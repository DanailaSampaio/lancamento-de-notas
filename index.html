<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lançamento de Notas</title>
    <link rel="stylesheet" href="style.css">

    <script>
        function calcularMedia(id) {
            let prova1 = parseFloat(document.getElementById('prova1_' + id).value) || 0;
            let prova2 = parseFloat(document.getElementById('prova2_' + id).value) || 0;
            let exame = parseFloat(document.getElementById('exame_' + id).value) || 0;
            
            let media = (prova1 + prova2 + exame) / 3;
            document.getElementById('media_' + id).value = media.toFixed(2);
        }

        function verificarCampos() {
            let camposInvalidos = document.querySelectorAll('input[required]:invalid');
            let camposVazios = document.querySelectorAll('input[required]:not(:valid)');
            let camposComErro = camposInvalidos.length > 0 || camposVazios.length > 0;
            
            // Verifica se todos os campos obrigatórios estão preenchidos corretamente
            if (!camposComErro) {
                document.getElementById('botaoEnviar').disabled = false;
            } else {
                document.getElementById('botaoEnviar').disabled = true;
            }
        }

        function enviarFormulario() {
            if (document.querySelectorAll('.erro').length === 0) {
                alert("Dados enviados com sucesso!");
                limparCampos();
            } else {
                alert("Por favor, preencha todos os campos corretamente.");
            }
        }

        function limparCampos() {
            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.value = '';
                input.classList.remove('erro');
            });
            document.querySelectorAll('input[type="text"]').forEach(input => {
                input.value = '';
            });
            document.getElementById('botaoEnviar').disabled = true;
        }
    </script>
</head>
<body>
    <h2>LANÇAMENTO DE NOTAS</h2>

    <label><strong>Selecione a disciplina:</strong></label>
    <select>
        <option>Introdução à Informática</option>
        <option>Linguagens de Programação</option>
        <option>Programação de Computadores</option>
    </select>

    <table>
        <tr>
            <th>Nome do Aluno</th>
            <th>Prova 1</th>
            <th>Prova 2</th>
            <th>Exame</th>
            <th>Média</th>
            <th>Faltas</th>
        </tr>
        <tr>
            <td>Joana da Silva</td>
            <td><input type="number" id="prova1_1" min="0" max="10" step="0.1" required oninput="calcularMedia(1); verificarCampos()"></td>
            <td><input type="number" id="prova2_1" min="0" max="10" step="0.1" required oninput="calcularMedia(1); verificarCampos()"></td>
            <td><input type="number" id="exame_1" min="0" max="10" step="0.1" required oninput="calcularMedia(1); verificarCampos()"></td>
            <td><input type="text" id="media_1" readonly></td>
            <td><input type="number" id="faltas_1" min="0" max="16" required oninput="verificarCampos()"></td>
        </tr>
        <tr>
            <td>Maria do Socorro</td>
            <td><input type="number" id="prova1_2" min="0" max="10" step="0.1" required oninput="calcularMedia(2); verificarCampos()"></td>
            <td><input type="number" id="prova2_2" min="0" max="10" step="0.1" required oninput="calcularMedia(2); verificarCampos()"></td>
            <td><input type="number" id="exame_2" min="0" max="10" step="0.1" required oninput="calcularMedia(2); verificarCampos()"></td>
            <td><input type="text" id="media_2" readonly></td>
            <td><input type="number" id="faltas_2" min="0" max="16" required oninput="verificarCampos()"></td>
        </tr>
        <tr>
            <td>Pedro Santos</td>
            <td><input type="number" id="prova1_3" min="0" max="10" step="0.1" required oninput="calcularMedia(3); verificarCampos()"></td>
            <td><input type="number" id="prova2_3" min="0" max="10" step="0.1" required oninput="calcularMedia(3); verificarCampos()"></td>
            <td><input type="number" id="exame_3" min="0" max="10" step="0.1" required oninput="calcularMedia(3); verificarCampos()"></td>
            <td><input type="text" id="media_3" readonly></td>
            <td><input type="number" id="faltas_3" min="0" max="16" required oninput="verificarCampos()"></td>
        </tr>
    </table>

    <button id="botaoEnviar" onclick="enviarFormulario()" disabled>Enviar</button>
</body>
</html>